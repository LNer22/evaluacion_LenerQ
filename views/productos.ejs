<!DOCTYPE html>
<html lang="es" class="h-100">


<!-- Se incluye el documento parcial donde se almacena la codificacion de 
    la parte del head -->
<%- include('./partials/head.ejs',{titulo: 'PRODUCTOS' }) %>

<body class="d-flex flex-column h-100">
    <header>
        <!-- Se incluye el documento parcial donde se almacena la codificacion de 
        la parte del encabezado -->
        <%- include('./partials/nav.ejs',{activeTab: 'Productos' }) %>
    </header>
    <main class="flex-shrink-0">
        <div class="container">
            <!-- Botón de agregar productos -->
            <p class="mt-3">
                <a href="/producto?accion=nuevo" class="btn btn-outline-success">Nuevo Producto</a>
            </p>
            <!-- Tabla que muestra todos los productos -->
            <div class="table-responsive">
                <table class="table table-hover align-middle">
                    <thead>
                        <tr>
                            <th scope="col">Código</th>
                            <th scope="col">Nombre</th>
                            <th scope="col">Descripción</th>
                            <th scope="col">Cantidad</th>
                            <th scope="col">Precio</th>
                            <th scope="col">Acción</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Almacena en la tabla todos los productos que se encuentren en la base de
                        datos -->
                        <% data.forEach(function(data) { %>
                        <tr scope="row" id="fila-<%= data.productoId %>">
                            <th>
                                <%= data.productoId %></a>
                            </th>
                            <td>
                                <%= data.productoNombre %>
                            </td>
                            <td>
                                <%= data.productoDescripcion %>
                                </t>
                            <td>
                                <%= data.productoCantidad %>
                            </td>
                            <td>
                                <%= data.productoPrecio %>
                            </td>
                            <td>
                                <a href="/producto?accion=editar&productoId=<%= data.productoId %>"
                                    class="btn btn-outline-warning btn-sm"><i class="fas fa-edit"></i></a>
                                <a href="javascript:eliminarproducto(<%= data.productoId %>)"
                                    class="btn btn-outline-danger btn-sm"><i class="fas fa-eraser"></i></a>
                            </td>
                        </tr>
                        <% }); %>
                    </tbody>
                </table>
            </div>

        </div>
    </main>
    <!-- Se incluye el documento parcial donde se almacena la codificacion de 
    la parte del pie de página y scripts -->
    <%- include('./partials/footer.ejs') %>
    <script src="/js/productos.js"></script>
</body>

</html>