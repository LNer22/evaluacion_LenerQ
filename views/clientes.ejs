<!DOCTYPE html>
<html lang="es" class="h-100">


<!-- Se incluye el documento parcial donde se almacena la codificacion de 
    la parte del head -->
<%- include('./partials/head.ejs',{titulo: 'CLIENTES' }) %>

<body class="d-flex flex-column h-100">
    <header>
        <!-- Se incluye el documento parcial donde se almacena la codificacion de 
        la parte del encabezado -->
        <%- include('./partials/nav.ejs',{activeTab: 'Clientes' }) %>
    </header>
    <main class="flex-shrink-0">
        <div class="container">
            <!-- Botón de agregar clientes -->
            <p class="mt-3">
                <a href="/cliente?accion=nuevo" class="btn btn-outline-success">Nuevo Cliente</a>
            </p>
            <!-- Tabla que muestra todos los clientes -->
            <div class="table-responsive">
                <table class="table table-hover align-middle">
                    <thead>
                        <tr>
                            <th scope="col">DNI</th>
                            <th scope="col">Nombre Completo</th>
                            <th scope="col">Dirección</th>
                            <th scope="col">Teléfono</th>
                            <th scope="col">Sexo</th>
                            <th scope="col">Email</th>
                            <th scope="col">Acción</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Almacena en la tabla todos los clientes que se encuentren en la base de
                        datos -->
                        <% data.forEach(function(data) { %>
                        <tr scope="row" id="fila-<%= data.DNI %>">
                            <th>
                                <%= data.DNI %></a>
                            </th>
                            <td>
                                <%= `${data.clienteNombre} ${data.clienteApellidos}` %>
                            </td>
                            <td>
                                <%= data.clienteDireccion %>
                                </t>
                            <td>
                                <%= data.clienteTelefono %>
                            </td>
                            <td>
                                <%= data.clienteSexo?'Masculino':'Femenino' %>
                            </td>
                            <td>
                                <%= data.clienteEmail %>
                            </td>
                            <td>
                                <a href="/cliente?accion=editar&DNI=<%= data.DNI %>"
                                    class="btn btn-outline-warning btn-sm"><i class="fas fa-edit"></i></a>
                                <a href="javascript:eliminarcliente(<%= data.DNI %>)"
                                    class="btn btn-outline-danger btn-sm"><i class="fas fa-eraser"></i></a>
                            </td>
                        </tr>
                        <% }); %>
                    </tbody>
                </table>
            </div>

        </div>
    </main>
    <!-- Se incluye el documento parcial donde se almacena la codificacion de 
    la parte del pie de página y scripts -->
    <%- include('./partials/footer.ejs') %>
    <script src="/js/clientes.js"></script>
</body>

</html>